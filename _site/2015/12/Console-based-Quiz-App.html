<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Alaf Azam Khan - Console Based Quizz App in Node.js</title>
  <meta name="author" content="Alaf Azam Khan" />
  <meta name="description" content="The blog of Alaf Azam Khan" />
	<meta name="keywords" content="design, android, ios, db, github, drones, databases, iphone, app, voice, alafazam, tool, talks, project, json, server, flying">
  <link rel="canonical" href="http://alafazam.com/2015/12/Console-based-Quiz-App" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,800" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/all.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
  <link rel="alternate" type="application/rss+xml" title="Alaf Azam Khan" href="http://alafazam.com/atom.xml" />
  <link rel="shortcut icon" href="res/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon-precomposed" href="res/icon.png">
	<link rel="apple-touch-icon-precomposed" href="res/icon.png">
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="res/Icon60-2x.png">

</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav class="pageview">
  <h1>Hi.</h1>
  <a href="/" id="logo">
    <i class="fa fa-paper-plane-o fa-5x"></i>
  </a>
  <h2>I'm <a href="/">Alaf Azam Khan</a>.</h2>
  <hr/>

  <div id="recent-posts">
    <h3>Recent Articles</h3>
    <ul>
      
      
        
        

        <li><a href="/2015/12/first-post">First Post</a></li>
        
      
        
        

        <li><a href="/2015/12/Console-based-Quiz-App">Console Based Quizz App in Node.js</a></li>
        
      
    </ul>
    <a href="/posts.html"><i class="fa fa-angle-double-right"></i> all posts</a>
    <span class="mdash">&mdash;</span>
    <a href="/tags.html"><i class="fa fa-angle-double-right"></i> all tags</a>
  </div>

  <div id="stalker">
    Follow me:
    <ul>
      
      <li>
        <a title="alafazam on Github" href="https://github.com/alafazam">
          <i class="fa fa-github-square"></i>
        </a>
      </li>
      

      
      <li>
        <a class="fa-stack" title="Alaf Azam Khan on Stack Overflow" href="http://stackoverflow.com/users/3158659">
          <i class="fa fa-square fa-stack-2x"></i>
          <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
        </a>
      </li>
      

      
      <li>
        <a title="Alaf Azam Khan on Facebook" href="https://facebook.com/alafazam">
          <i class="fa fa-facebook-square"></i>
        </a>
      </li>
      

      
      <li>
        <a title="Alaf Azam Khan on LinkedIn" href="https://www.linkedin.com/in/alafazam">
          <i class="fa fa-linkedin-square"></i>
        </a>
      </li>
      

      
      <li>
        <a title="Alaf Azam Khan on Google Plus" href="https://plus.google.com/u/0/+AlafazamKhan">
          <i class="fa fa-google-plus-square"></i>
        </a>
      </li>
      

      
      <li>
        <a title="Alaf Azam Khan on Spotify" href="http://open.spotify.com/user/alafazam">
          <i class="fa fa-spotify"></i>
        </a>
      </li>
      

      <li>
        <a title="RSS feed" id="rss" href="/atom.xml">
          <i class="fa fa-rss-square"></i>
        </a>
      </li>
    </ul>
    <div style="clear:both;"></div>
  </div>

  <i id="navdivider" class="fa fa-asterisk fa-3x"></i>
</nav>

    </div>

    <div class="eleven columns content">
      <p class="meta">
  December 01, 2015
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">Console Based Quizz App in Node.js</h1>

<div id="post">
  <p>In this post I will teach you to make a console based Quiz app in Nodejs.</p>

<h3 id="initial-setup">Initial Setup</h3>
<p>Of course, the first thing you need to do is get NodeJS installed on your system. If you are a Windows or Mac user, you can visit <a href="nodejs.org">nodejs.org</a> and download the installer. If you instead prefer Linux, I’d suggest that you refer to this <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">link</a>.</p>

<p>You also need to install readline-sync, chalk and string-format modules.
Lets’s first make a package.json file. In an empty directory, create a package.json file with the following content.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Node Quiz&quot;</span><span class="p">,</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;simple console based quiz app&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;readline-sync&quot;</span><span class="p">:</span> <span class="s2">&quot;latest&quot;</span><span class="p">,</span>
        <span class="nt">&quot;string-format&quot;</span><span class="p">:</span> <span class="s2">&quot;latest&quot;</span><span class="p">,</span>
        <span class="nt">&quot;chalk&quot;</span><span class="p">:</span> <span class="s2">&quot;latest&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;developer&quot;</span>
<span class="p">}</span></code></pre></figure>

<p>Now install all these simply by:-</p>

<figure class="highlight"><pre><code class="language-jade" data-lang="jade"><span class="nt">npm</span> install</code></pre></figure>

<p>Now to begin, you must know what readline module does.</p>

<h4 id="readline">ReadLine</h4>

<p>This is the most simple example of Readline</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">readline</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline&#39;</span><span class="p">);</span>
 
<span class="kd">var</span> <span class="nx">rl</span> <span class="o">=</span> <span class="nx">readline</span><span class="p">.</span><span class="nx">createInterface</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">stdin</span><span class="p">,</span> 
     				  <span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">);</span>
 
<span class="nx">rl</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="s2">&quot;What is your name? &quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="nx">answer</span> <span class="p">);</span>
    <span class="nx">rl</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">});</span></code></pre></figure>

<p>What does it do? We include the module, create the Readline interface with the standard input and output streams, then ask the user a one-off question.
and print his answer.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">rl</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span></code></pre></figure>

<p>This method closes the connection between readline and console. Becasue of this, it is a bit tedious to use simple async readline here.
So we will use sync version of Readline named Readline-Sync</p>

<h4 id="readline-sync">Readline sync</h4>

<p>Synchronous Readline for interactively running to have a conversation with the user via a console(TTY).</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">readlineSync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>
 
<span class="c1">// Wait for user&#39;s response. </span>
<span class="kd">var</span> <span class="nx">userName</span> <span class="o">=</span> <span class="nx">readlineSync</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="s1">&#39;May I have your name? :&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hi &#39;</span> <span class="o">+</span> <span class="nx">userName</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">);</span>
 
<span class="c1">// Handle the secret text (e.g. password). </span>
<span class="kd">var</span> <span class="nx">favFood</span> <span class="o">=</span> <span class="nx">readlineSync</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="s1">&#39;What is your favorite food? :&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">hideEchoBack</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// The typed text on screen is hidden by `*` (default). </span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Oh, &#39;</span> <span class="o">+</span> <span class="nx">userName</span> <span class="o">+</span> <span class="s1">&#39; loves &#39;</span> <span class="o">+</span> <span class="nx">favFood</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">);</span></code></pre></figure>

<p>Output</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">May I have your name? :CookieMonster
Hi CookieMonster!
What is your favorite food? :****
Oh, CookieMonster loves tofu!</code></pre></figure>

<p>you can find more about it here <a href="https://www.npmjs.com/package/readline-sync">readline-sync</a></p>

<h5 id="code">Code</h5>
<p>Now all we need to do is have a set of questions and syncronosly ask them to user.
Here is how we are going to do that.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">readlineSync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>


<span class="nx">questions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;May I have your name? :&#39;</span><span class="p">,</span> <span class="s1">&#39;What is your favorite food? :&#39;</span><span class="p">];</span>


<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">questions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="nx">answers</span> <span class="o">=</span> <span class="nx">readlineSync</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">questions</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">answers</span><span class="p">);</span>

<span class="p">};</span></code></pre></figure>

<p>But we also do need to provide options to users, don’t we.
May be we can limit key press input by user, gladly readline-sync can do this for us.
Our code becomes</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 

<span class="kd">var</span> <span class="nx">readlineSync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">),</span>
    <span class="nx">util</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;util&#39;</span><span class="p">);</span>

<span class="nx">question</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;question&#39;</span><span class="o">:</span> <span class="s1">&#39;In Java, Which method must be implemented by all threads? :&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;wait()&#39;</span><span class="p">,</span> <span class="s1">&#39;start()&#39;</span><span class="p">,</span> <span class="s1">&#39;stop()&#39;</span><span class="p">,</span> <span class="s1">&#39;run()&#39;</span><span class="p">],</span>
    <span class="s1">&#39;correctOption&#39;</span><span class="o">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
    <span class="s1">&#39;correctAnswer&#39;</span><span class="o">:</span> <span class="s1">&#39;run()&#39;</span>
<span class="p">}</span>


<span class="nx">answer</span> <span class="o">=</span> <span class="nx">readlineSync</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">ask</span><span class="p">(</span><span class="nx">question</span><span class="p">),</span> <span class="p">{</span>
    <span class="nx">limit</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">answer</span> <span class="o">==</span> <span class="nx">question</span><span class="p">.</span><span class="nx">correctOption</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">util</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;Yes, correct answer is %s method&#39;</span><span class="p">,</span> <span class="nx">question</span><span class="p">.</span><span class="nx">correctAnswer</span><span class="p">));</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">util</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;No, correct answer is %s method&#39;</span><span class="p">,</span> <span class="nx">question</span><span class="p">.</span><span class="nx">correctAnswer</span><span class="p">));</span>
<span class="p">};</span>


<span class="kd">function</span> <span class="nx">ask</span><span class="p">(</span><span class="nx">question</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">util</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;\n%s:\nA : %s\nB : %s\nC : %s\nD : %s\n&#39;</span><span class="p">,</span> <span class="nx">question</span><span class="p">.</span><span class="nx">question</span><span class="p">,</span> <span class="nx">question</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">question</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">question</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nx">question</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span></code></pre></figure>

<p>This looks very messy, we should fix it.
String-format module comes in handy here.</p>

<h4 id="string-format">String-format</h4>

<p>It Adds a format method to String.prototype. Inspired by Python’s str.format(). Wow</p>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="s1">&#39;&quot;{firstName} {lastName}&quot; &lt;{email}&gt;&#39;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
<span class="c1">// =&gt; &#39;&quot;Jane Smith&quot; &lt;jsmith@example.com&gt;&#39; </span></code></pre></figure>

<p>The equivalent concatenation:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">+</span> <span class="s1">&#39;&quot; &lt;&#39;</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">email</span> <span class="o">+</span> <span class="s1">&#39;&gt;&#39;</span>
<span class="c1">// =&gt; &#39;&quot;Jane Smith&quot; &lt;jsmith@example.com&gt;&#39; </span></code></pre></figure>

<p>String::format can be used in two modes: function mode and method mode.</p>

<h5 id="function-mode">Function mode</h5>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="nx">format</span><span class="p">(</span><span class="s1">&#39;Hello, {}!&#39;</span><span class="p">,</span> <span class="s1">&#39;Alice&#39;</span><span class="p">)</span>
<span class="c1">// =&gt; &#39;Hello, Alice!&#39; </span>
<span class="nx">In</span> <span class="k">this</span> <span class="nx">mode</span> <span class="nx">the</span> <span class="nx">first</span> <span class="nx">argument</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">template</span> <span class="nx">string</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">remaining</span> <span class="nx">arguments</span> <span class="nx">are</span> <span class="nx">values</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">interpolated</span><span class="p">.</span></code></pre></figure>

<h5 id="method-mode">Method mode</h5>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="s1">&#39;Hello, {}!&#39;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;Alice&#39;</span><span class="p">)</span>
<span class="c1">// =&gt; &#39;Hello, Alice!&#39; </span></code></pre></figure>

<p>In this mode values to be interpolated are supplied to the format method of a template string. This mode is not enabled by default. The method must first be defined via format.extend:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="nx">format</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span></code></pre></figure>

<h4 id="code-1">Code</h4>
<p>Using this in our code</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> 
<span class="kd">var</span> <span class="nx">readlineSync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">),</span>
	<span class="nx">format</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;string-format&#39;</span><span class="p">);</span>
<span class="nx">format</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="nx">question</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;question&#39;</span><span class="o">:</span> <span class="s1">&#39;In Java, Which method must be implemented by all threads? :&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;wait()&#39;</span><span class="p">,</span> <span class="s1">&#39;start()&#39;</span><span class="p">,</span> <span class="s1">&#39;stop()&#39;</span><span class="p">,</span> <span class="s1">&#39;run()&#39;</span><span class="p">],</span>
    <span class="s1">&#39;correctOption&#39;</span><span class="o">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
    <span class="s1">&#39;correctAnswer&#39;</span><span class="o">:</span> <span class="s1">&#39;run()&#39;</span>
<span class="p">}</span>


<span class="nx">answer</span> <span class="o">=</span> <span class="nx">readlineSync</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">ask</span><span class="p">(</span><span class="nx">question</span><span class="p">),</span> <span class="p">{</span>
    <span class="nx">limit</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">answer</span> <span class="o">==</span> <span class="nx">question</span><span class="p">.</span><span class="nx">correctOption</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Yes, correct answer is {correctAnswer} method&#39;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">question</span><span class="p">));</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;No, correct answer is {correctAnswer} method&#39;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">question</span><span class="p">));</span>
<span class="p">};</span>


<span class="kd">function</span> <span class="nx">ask</span><span class="p">(</span><span class="nx">ques</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;\n{question}:\nA : {options.0}\nB : {options.2}\nC : {options.2}\nD : {options.3}\n&#39;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">ques</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>


</div>


  <div id="tags">
    Posted under:
    <i class="fa fa-tags"></i>
    
      <a href="/tags.html#nodejs">nodejs</a>, 
    
      <a href="/tags.html#node">node</a>, 
    
      <a href="/tags.html#readline">readline</a>, 
    
      <a href="/tags.html#colors">colors</a>
    
  </div>




      <div class="footer">
        <div class="disclaimer">
  <p>
    © Alaf Azam Khan, 2015 &mdash;
    Made with: <a href="https://pages.github.com/">github pages</a>.
    This site is <a href="https://github.com/alafazam/alafazam.github.io">open source</a>.
  </p>
</div>

      </div>
    </div>
  </div>

</body>
</html>
